<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="generator" content="Hexo 4.2.0"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>MySql笔记 - 后端小哥博客</title><meta description="MySql笔记"><meta property="og:type" content="blog"><meta property="og:title" content="MySql笔记"><meta property="og:url" content="http://lujiahao0708.github.io/"><meta property="og:site_name" content="后端小哥博客"><meta property="og:description" content="MySql笔记"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://ooo.0o0.ooo/2016/06/30/5774def7033f8.png"><meta property="og:image" content="https://ooo.0o0.ooo/2016/06/30/5774e07246de2.png"><meta property="og:image" content="https://ooo.0o0.ooo/2016/06/30/5774e09946abe.png"><meta property="og:image" content="https://ooo.0o0.ooo/2016/06/30/5774e0c7adeb1.png"><meta property="og:image" content="https://ooo.0o0.ooo/2016/06/30/5774e0f110a4f.png"><meta property="og:image" content="https://ooo.0o0.ooo/2016/06/30/5774e131a2591.png"><meta property="og:image" content="https://ooo.0o0.ooo/2016/06/30/5774e14d9aaaf.png"><meta property="og:image" content="https://ooo.0o0.ooo/2016/06/30/5774e1a4e7024.png"><meta property="og:image" content="https://ooo.0o0.ooo/2016/06/30/5774e1cab29f8.png"><meta property="article:published_time" content="2016-06-30T10:01:06.000Z"><meta property="article:modified_time" content="2020-05-07T13:46:12.718Z"><meta property="article:author" content="后端小哥"><meta property="article:tag" content="JavaEE"><meta property="article:tag" content="数据库"><meta property="article:tag" content="MySql"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="https://ooo.0o0.ooo/2016/06/30/5774def7033f8.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://lujiahao0708.github.io/p/cb940dd7.html"},"headline":"后端小哥博客","image":["https://ooo.0o0.ooo/2016/06/30/5774def7033f8.png","https://ooo.0o0.ooo/2016/06/30/5774e07246de2.png","https://ooo.0o0.ooo/2016/06/30/5774e09946abe.png","https://ooo.0o0.ooo/2016/06/30/5774e0c7adeb1.png","https://ooo.0o0.ooo/2016/06/30/5774e0f110a4f.png","https://ooo.0o0.ooo/2016/06/30/5774e131a2591.png","https://ooo.0o0.ooo/2016/06/30/5774e14d9aaaf.png","https://ooo.0o0.ooo/2016/06/30/5774e1a4e7024.png","https://ooo.0o0.ooo/2016/06/30/5774e1cab29f8.png"],"datePublished":"2016-06-30T10:01:06.000Z","dateModified":"2020-05-07T13:46:12.718Z","author":{"@type":"Person","name":"后端小哥"},"description":"MySql笔记"}</script><link rel="canonical" href="http://lujiahao0708.github.io/p/cb940dd7.html"><link rel="icon" href="/img/favicon.ico"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="/css/default.css"><!--!--><script>var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "//hm.baidu.com/hm.js?cdef3b7efc8748063e32969cc0b8dedc";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();</script><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.png" alt="后端小哥博客" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">首页</a><a class="navbar-item" href="/categories/Redis">Redis</a><a class="navbar-item" href="/archives">归档</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/tags">标签</a><a class="navbar-item" href="/about">关于</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/lujiahao0708"><i class="fab fa-github"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-9-tablet is-9-desktop is-9-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2016-06-30T10:01:06.000Z" title="2016-06-30T10:01:06.000Z">2016-06-30</time><span class="level-item"><a class="link-muted" href="/categories/JavaEE/">JavaEE</a></span><span class="level-item">17 分钟 读完 (大约 2610 个字)</span></div></div><h1 class="title is-3 is-size-4-mobile">MySql笔记</h1><div class="content"><h2 id="1-数据库知识"><a href="#1-数据库知识" class="headerlink" title="1.数据库知识"></a>1.数据库知识</h2><p>分类:</p>
<ol>
<li>网状型数据库</li>
<li>层次型数据库</li>
<li>关系型数据库<ul>
<li>Oracle ： 甲骨文，oracle公司，大型数据，收费</li>
<li>db2 ： IBM，大型数据，收费</li>
<li>Sql server ： 微软，中性数据，收费。(access office 小型)</li>
<li>Mysql ： 免费。小型。（开源） –oracle </li>
</ul>
</li>
</ol>
<h2 id="2-Mysql安装"><a href="#2-Mysql安装" class="headerlink" title="2.Mysql安装"></a>2.Mysql安装</h2><ol>
<li><p>设置数据库存放目录<br><img src="https://ooo.0o0.ooo/2016/06/30/5774def7033f8.png" alt="QQ截图20160630165126.png"></p>
</li>
<li><p>选择配置类型   <img src="https://ooo.0o0.ooo/2016/06/30/5774e07246de2.png" alt="QQ截图20160630165743.png"></p>
</li>
<li><p>选择服务类型   <img src="https://ooo.0o0.ooo/2016/06/30/5774e09946abe.png" alt="QQ截图20160630165834.png"></p>
</li>
<li><p>选择数据库类型  <img src="https://ooo.0o0.ooo/2016/06/30/5774e0c7adeb1.png" alt="QQ截图20160630165920.png"></p>
</li>
<li><p>设置并发连接数  <img src="https://ooo.0o0.ooo/2016/06/30/5774e0f110a4f.png" alt="QQ截图20160630170001.png"></p>
</li>
<li><p>配置网络参数    <img src="https://ooo.0o0.ooo/2016/06/30/5774e131a2591.png" alt="QQ截图20160630170103.png"></p>
</li>
<li><p>设置字符集      <img src="https://ooo.0o0.ooo/2016/06/30/5774e14d9aaaf.png" alt="QQ截图20160630170134.png"></p>
</li>
<li><p>设置服务和环境静变量 <img src="https://ooo.0o0.ooo/2016/06/30/5774e1a4e7024.png" alt="QQ截图20160630170302.png"></p>
</li>
<li><p>设置数据库密码  <img src="https://ooo.0o0.ooo/2016/06/30/5774e1cab29f8.png" alt="QQ截图20160630170328.png"></p>
</li>
<li><p>测试</p>
<pre><code>C:\Users\xxxxx&gt;mysql --version
mysql  Ver 14.14 Distrib 5.5.27, for Win64 (x86)</code></pre></li>
</ol>
<h2 id="3-Mysql登录-amp-修改数据库密码"><a href="#3-Mysql登录-amp-修改数据库密码" class="headerlink" title="3.Mysql登录&amp;修改数据库密码"></a>3.Mysql登录&amp;修改数据库密码</h2><pre><code>mysql -h 主机(ip地址) -u 账号 -p 密码

use mysql;
update user set password=password(&apos;1234&apos;) where user=&apos;root&apos;;</code></pre><h2 id="4-常用命令"><a href="#4-常用命令" class="headerlink" title="4.常用命令"></a>4.常用命令</h2><ul>
<li>显示当前数据库服务器中的数据库列表 : <code>show databases;</code></li>
<li>使用数据库 : <code>use 数据库名;</code></li>
<li>显示数据库中的数据表 : <code>show tables;</code></li>
<li>显示当前所使用的数据库名称 : <code>select database();</code></li>
<li>显示当前数据库的状态 : <code>status;</code></li>
<li>显示某个表的表结构 : <code>desc 表名;</code></li>
<li>显示所有支持的字符集 : <code>show character set;</code></li>
<li>查看创建表的sql语句 : <code>show create table 表名;</code></li>
</ul>
<h2 id="5-SQL语句"><a href="#5-SQL语句" class="headerlink" title="5.SQL语句"></a>5.SQL语句</h2><h3 id="5-1-DDL数据定义语言-了解"><a href="#5-1-DDL数据定义语言-了解" class="headerlink" title="5.1 DDL数据定义语言(了解)"></a>5.1 DDL数据定义语言(了解)</h3><pre><code>&gt; 操作数据库或表结构</code></pre><h4 id="5-1-1-数据库操作"><a href="#5-1-1-数据库操作" class="headerlink" title="5.1.1 数据库操作"></a>5.1.1 数据库操作</h4><ul>
<li>创建数据库 : <code>create database 数据库名称;</code></li>
<li>查询数据库创建语句 : <code>show create database 数据库名称;</code></li>
<li>删除数据库 : <code>drop database [if exists] 数据库名称;</code></li>
<li>修改数据 : <code>alter database 数据库名  character set 字符集 collate 比较方式</code>不建议修改。</li>
</ul>
<h4 id="5-1-2-表结构"><a href="#5-1-2-表结构" class="headerlink" title="5.1.2 表结构"></a>5.1.2 表结构</h4><pre><code>&gt; 操作表之前,必须先切换数据库.</code></pre><ul>
<li><p>创建表 : <code>create table 表名(字段描述,字段描述,...);</code></p>
<pre><code>create table users(
    id varchar(32),
    name varchar(50),
    age int
);</code></pre></li>
<li><p>删除表 : <code>drop table 表名;</code></p>
</li>
<li><p>修改字段类型 : <code>alter table 表名 modify 字段名称 新类型;</code></p>
</li>
<li><p>修改字段名称 : <code>alter table 表名 change 旧字段 新字段 新字段类型;</code></p>
</li>
<li><p>添加字段 : <code>alter table 表名 add column 字段名称 字段类型;</code></p>
</li>
<li><p>删除字段 : <code>alter table 表名 drop column 字段名称;</code></p>
</li>
<li><p>重命名表名 : <code>alter table 表名 rename [to] 新表明;</code></p>
</li>
</ul>
<h4 id="5-1-3-数据类型"><a href="#5-1-3-数据类型" class="headerlink" title="5.1.3 数据类型"></a>5.1.3 数据类型</h4><p>字符串</p>
<pre><code>char(n) 固定字符串，例如：char(5) 表示可以存放5个字符，且必须是5个。
    如果插入 “abc”,结果“abc  ”  右边自动添加空格。
varchar(n) 可变长字符串，例如：varchar(5),表示最多存放5个字符，如果不够就原样存放。
    如果插入“abc”，结果“abc”</code></pre><p>数字</p>
<pre><code>bit            比特
tinyint        byte
mediumint    short
int            int        【】
bigint        long
float            float
double(m,d)    double 【】 --m数字长度，d精度及小数位
numeric        Number    所有数字
    例如：double(5,2) 5表示整个数字为5位，2表示小数位2个。最大值。999.99</code></pre><p>时间日期</p>
<pre><code>** 之后使用java日期时间类型：java.util.Date 。如果要使用java.sql..类型，只能存放dao层
date 日期                java.sql.Date
datetime 日期时间            ---
time 时间                java.sql.Time
timestamp 时间戳            java.sql.Timestamp

    sql转util ： java.util.Date date = new java.sql.Date(long);
    util转sql ： new java.sql.Date(  new java.util.Date().getTime()  )</code></pre><p>大数据</p>
<pre><code>字节：存放二进制  （java.sql.Blob ：Binary Large Object 二进制大对象）
    TINYBLOB  255
    blob        64k
    longblob    4G
字符：存放文本 （java.sql.Clob ：Character Large Object 字符大对象）
    TINYTEXT    255
    text        64k
    longtext 4G</code></pre><h3 id="5-2-DML数据操作语言-掌握"><a href="#5-2-DML数据操作语言-掌握" class="headerlink" title="5.2 DML数据操作语言(掌握)"></a>5.2 DML数据操作语言(掌握)</h3><pre><code>&gt; 对表中的数据进行增删改的操作</code></pre><h4 id="5-2-1-插入数据"><a href="#5-2-1-插入数据" class="headerlink" title="5.2.1 插入数据"></a>5.2.1 插入数据</h4><pre><code>insert into 表名(字段列表) values(字段对应值);</code></pre><p>注意:</p>
<pre><code>多个字段之间使用逗号分隔
字段值必须使用引号(建议单引号),如果是整形数据引号可以省略
字段默认值为null</code></pre><h4 id="5-2-2-更新数据"><a href="#5-2-2-更新数据" class="headerlink" title="5.2.2 更新数据"></a>5.2.2 更新数据</h4><pre><code>update 表名 set 字段名=字段值,字段名=字段值,...;
update 表名 set 字段名=字段值,字段名=字段值,...where 条件;</code></pre><h4 id="5-2-3-删除数据"><a href="#5-2-3-删除数据" class="headerlink" title="5.2.3 删除数据"></a>5.2.3 删除数据</h4><pre><code>delete from 表名 [where 条件];</code></pre><p>注意:</p>
<pre><code>delete from users; 删除表中的所有数据.进行删除操作留心,一般情况应用系统不进行数据删除,提供一个标记字段,逻辑删除(0表示已删除,1表示没有删除).</code></pre><h3 id="5-3-约束"><a href="#5-3-约束" class="headerlink" title="5.3 约束"></a>5.3 约束</h3><blockquote>
<p>给字段添加规则，约定内容编写。最终作用保证数据的完整性，一致性等。</p>
</blockquote>
<h4 id="5-3-1-主键约束"><a href="#5-3-1-主键约束" class="headerlink" title="5.3.1 主键约束"></a>5.3.1 主键约束</h4><pre><code>关键字:primary key
要求:数据唯一,不能为null.</code></pre><p>1.定义表:声明字段时,定义主键.(primary key)只能修饰一个字段.<br>    create table pk01(<br>      id varchar(32) primary key ,<br>      content varchar(50)<br>    );<br>2.定义表，声明字段之后，在约束区域定义主键。—特点  constraint primary key (字段1,字段2,….) 可以设置多个字段<br>    create table pk02(<br>      id varchar(32),<br>      content varchar(50),<br>      constraint primary key (id)<br>    );<br>3.定义表，声明字段，表创建之后。修改表结构添加约束。–特点：也可以设置多个字段，更灵活。<br>    create table pk03(<br>      id varchar(32),<br>      content varchar(50)<br>    );<br>    alter table pk03 add constraint primary key (id);</p>
<h4 id="5-3-2-唯一约束"><a href="#5-3-2-唯一约束" class="headerlink" title="5.3.2 唯一约束"></a>5.3.2 唯一约束</h4><pre><code>关键字:unique
要求:被修饰的字段不能重复</code></pre><p>1.定义表，声明字段时，定义唯一约束。— 特点：unique只能修饰一个字段<br>    create table un01(<br>      id varchar(32),<br>      content varchar(50) unique<br>    );<br>2.定义表，声明字段之后，在约束区域定义唯一约束。—特点  constraintunique (字段1,字段2,….) 可以设置多个字段<br>    create table un02(<br>      id varchar(32),<br>      content varchar(50),<br>      constraint unique (content)<br>    );<br>3.定义表，声明字段，表创建之后。修改表结构添加唯一约束。–特点：也可以设置多个字段，更灵活。<br>    create table un03(<br>      id varchar(32),<br>      content varchar(50)<br>    );<br>    alter table un03 add constraint unique (content);</p>
<h4 id="5-3-3-非空约束"><a href="#5-3-3-非空约束" class="headerlink" title="5.3.3 非空约束"></a>5.3.3 非空约束</h4><pre><code>关键字:not null
要求:被修饰的字段不能为null</code></pre><p>1.定义表，声明字段时，添加约束。<br>    create table nn01(<br>      id varchar(32),<br>      content varchar(50) not null<br>    );<br>    create table nn02(<br>      id varchar(32),<br>      content varchar(50) not null default ‘dzd’<br>    );</p>
<blockquote>
<p>总结: 主键 = 唯一 + 非空</p>
</blockquote>
<h4 id="5-3-4-自动增长-mysql特有"><a href="#5-3-4-自动增长-mysql特有" class="headerlink" title="5.3.4 自动增长(mysql特有)"></a>5.3.4 自动增长(mysql特有)</h4><p>定义:<br>    关键字:auto_increment<br>    mysql特有的一个特殊的关键字,被修饰的字段将自动的累加(oracle没有,但提供徐磊sequence)<br>    注意:<br>        1.字段类型必须是整型,一般使用int<br>        2.必须是key(主键/唯一),一般使用主键primary key<br>        3.被auto_increment修饰的字段,不需要手动维护数据,mysql将自动维护<br>代码示例:<br>    create table ai01(<br>        id varchar(32) auto_increment, # 错误代码  不能用于字符串<br>        content varchar(50)<br>    );<br>    create table ai02(<br>        id int auto_increment, # 错误代码 必须是primary key<br>        content varchar(50)<br>    );<br>    create table ai03(<br>        id int primary key auto_increment, # 正确代码<br>        content varchar(50)<br>    );<br>面试题:<br>    drop table ai03;    #删除表，数据和表都不存在了。<br>    delete from ai03;   #删除所有数据，表仍然存在。表中计数器没有重置。<br>    truncate table ai03;  #清空所有数据，表中的计数器将重置归0。<br>    delete 和 truncate 对比<br>        delete 将数据删除了<br>        truncate 先删除了表，再创建表。</p>
<h4 id="5-3-5-外键约束"><a href="#5-3-5-外键约束" class="headerlink" title="5.3.5 外键约束"></a>5.3.5 外键约束</h4><pre><code>关键字:foreign key</code></pre><h4 id="5-3-6-删除约束"><a href="#5-3-6-删除约束" class="headerlink" title="5.3.6 删除约束"></a>5.3.6 删除约束</h4><pre><code>删除主键：mysql&gt;   `alter table 表名 drop primary key;`
删除唯一：修改列
删除外键：mysql&gt;   `alter table 表名 drop foreign key 名称;`</code></pre><h4 id="5-3-7-cmd命令行中文乱码处理"><a href="#5-3-7-cmd命令行中文乱码处理" class="headerlink" title="5.3.7 cmd命令行中文乱码处理"></a>5.3.7 cmd命令行中文乱码处理</h4><pre><code>set names gbk;</code></pre><h3 id="5-4-DQL数据查询语言-掌握"><a href="#5-4-DQL数据查询语言-掌握" class="headerlink" title="5.4 DQL数据查询语言(掌握)"></a>5.4 DQL数据查询语言(掌握)</h3><h4 id="5-4-1-无条件查询"><a href="#5-4-1-无条件查询" class="headerlink" title="5.4.1 无条件查询"></a>5.4.1 无条件查询</h4><p>查询所有:</p>
<pre><code>select * from users;
select id,name,age from user;</code></pre><p>查询部分字段:</p>
<pre><code>select id,name from user;</code></pre><p>合并查询条件:</p>
<pre><code>select id,concat(firstname,secondname),age from users;</code></pre><p>字段别名:</p>
<pre><code>select id,concat(firstname,secondname) as `姓名`,age from users;</code></pre><p>特殊字符或者关键字使用重音符 ``</p>
<h4 id="5-4-2-带条件查询"><a href="#5-4-2-带条件查询" class="headerlink" title="5.4.2 带条件查询"></a>5.4.2 带条件查询</h4><p>查询分数等于60的:</p>
<pre><code>select * from users where count=&apos;60&apos;;</code></pre><p>查询年龄大于18的学生:</p>
<pre><code>select * from users where age &gt; 18;</code></pre><p>查询分数在60-80之间:</p>
<pre><code>select * from users where count &gt;= 60 and count &lt;= 80;
select * from users where count between 60 and 80;</code></pre><p>查询年龄是18或20的学生:</p>
<pre><code>select * from users where age = 18 or age = 20;</code></pre><p>模糊查询,不完全匹配:</p>
<pre><code>字段:like
符号:    
    %匹配多个数据
        &apos;云&apos; 只能匹配一个云
        &apos;%云&apos; 匹配以云结尾的
        &apos;云%&apos; 匹配以云开头的
        &apos;%云%&apos; 包含云
    _匹配一个数据</code></pre><p>查询分数等于60 或者  分数大于90并且年龄大于23</p>
<pre><code>select * from users where count = 60 or count &gt; 90 and age &gt; 23;
select * from users where count = 60 or (count &gt; 90 and age &gt; 23);
### 运算符优先级  and 优先 or</code></pre><p>查询没有考试的学生</p>
<pre><code>select * from users where count is null;</code></pre><p>查询所有考试的学生</p>
<pre><code>select * from users where count is not null;</code></pre><p>运算符 不相等   !=   &lt;&gt;    </p>
<h4 id="5-4-3-聚合函数"><a href="#5-4-3-聚合函数" class="headerlink" title="5.4.3 聚合函数"></a>5.4.3 聚合函数</h4><p>聚合函数：对表中的数据进行统计，显示一个数据（一行一列的数据）</p>
<pre><code>聚合函数不统计 null值。</code></pre><p>有多少条记录  count(* | 字段)</p>
<pre><code>select count(*) from users;
select count(id) from users;    #7
select count(count) from users;    #6</code></pre><p>平均成绩  avg</p>
<pre><code>select avg(count) from users;    #不精准（没有null）
select sum(count)/count(id) from users; #精准（计算null）</code></pre><p>最高成绩  max</p>
<pre><code>select max(count) from users;</code></pre><p>最小年龄  min</p>
<pre><code>select min(age) from users;</code></pre><p>班级总成绩 sum</p>
<pre><code>select sum(count) from users;</code></pre><p>查询所有的年龄数(排序)</p>
<pre><code>去重复 distinct
排序 select..... order by 字段1 关键字, 字段2 关键字,....
### 关键字 asc 升序 ， desc 降序
select distinct age from users order by age desc;   # age asc 等效 age [asc] </code></pre><h4 id="5-4-4-分组查询"><a href="#5-4-4-分组查询" class="headerlink" title="5.4.4 分组查询"></a>5.4.4 分组查询</h4><p>添加班级字段（classes）  </p>
<pre><code>alter table users add column classes varchar(3);
update users set classes = 1;
update users set classes = 2 where id=&apos;u005&apos; or id =&apos;u006&apos; or id =&apos;u007&apos;;
update users set classes = 2 where id in (&apos;u005&apos;,&apos;u006&apos;,&apos;u007&apos;);</code></pre><p>查询1班和2班的平均成绩</p>
<pre><code>分组  select ... group by 分组字段;
select classes,avg(count) from users group by classes;
select classes,sum(count)/count(id) from users group by classes;</code></pre><p>查询班级，平均成绩不及格的，班级成员信息</p>
<pre><code>(查询2班，成员信息)
select * from users where classes = 2;</code></pre><h3 id="多表操作"><a href="#多表操作" class="headerlink" title="多表操作"></a>多表操作</h3><p>select * from A,B where A.classes = B.classes and avg &lt; 60;</p>
<h4 id="表的别名"><a href="#表的别名" class="headerlink" title="表的别名"></a>表的别名</h4><pre><code>select ... from 表名 [as] 别名</code></pre><h3 id="子查询，一条select语句，作为另一个select一部分。"><a href="#子查询，一条select语句，作为另一个select一部分。" class="headerlink" title="子查询，一条select语句，作为另一个select一部分。"></a>子查询，一条select语句，作为另一个select一部分。</h3><p>select * from users,(<br>    select classes,sum(count)/count(id) as cavg from users group by classes) as B<br>where users.classes = B.classes and cavg &lt; 60;</p>
<h4 id="子查询特点"><a href="#子查询特点" class="headerlink" title="子查询特点"></a>子查询特点</h4><pre><code>#查询结果一行一列，可以使用
    select id,(xxx) from
    select ... from ... where id= (xxxx)
#查询结果一行多列(查询多个值)，使用关键字 in ，all 等
#查询结果多行多列，可以当另一个表使用</code></pre></div><div class="article-tags size-small is-uppercase mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/JavaEE/">JavaEE</a><a class="link-muted mr-2" rel="tag" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a><a class="link-muted mr-2" rel="tag" href="/tags/MySql/">MySql</a></div><!--!--></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">喜欢这篇文章？打赏一下作者吧</h3><div class="buttons is-centered"><a class="button is-info donate"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>支付宝</span><span class="qrcode"><img src="/img/alipay.jpeg" alt="支付宝"></span></a><a class="button is-success donate"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>微信</span><span class="qrcode"><img src="/img/wechat_pay.jpeg" alt="微信"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/p/bf6544ad.html"><i class="level-item fas fa-chevron-left"></i><span class="level-item">JDBC笔记一</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/p/6aaba340.html"><span class="level-item">Android Studio导出并使用aar和jar</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><!--!--></div><!--!--><div class="column column-right is-3-tablet is-3-desktop is-3-widescreen  order-3"><!--!--><div class="card widget"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="is-rounded" src="/img/avatar.png" alt="后端小哥"></figure><p class="title is-size-4 is-block line-height-inherit">后端小哥</p><p class="is-size-6 is-block">Coder</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Shijiazhuang, China</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">111</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">20</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">67</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/lujiahao0708" target="_blank" rel="noopener">关注我</a></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">链接</h3><ul class="menu-list"><li><a class="level is-mobile is-mobile" href="https://juejin.im/user/59239002570c350069c5f0bb" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">掘金</span></span><span class="level-right"><span class="level-item tag">juejin.im</span></span></a></li><li><a class="level is-mobile is-mobile" href="https://blog.csdn.net/xinruodingshui" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">CSDN</span></span><span class="level-right"><span class="level-item tag">blog.csdn.net</span></span></a></li><li><a class="level is-mobile is-mobile" href="https://space.bilibili.com/302086424/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">B站</span></span><span class="level-right"><span class="level-item tag">space.bilibili.com</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/categories/Android/"><span class="level-start"><span class="level-item">Android</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Chrome/"><span class="level-start"><span class="level-item">Chrome</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Docker/"><span class="level-start"><span class="level-item">Docker</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Flutter/"><span class="level-start"><span class="level-item">Flutter</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Hexo/"><span class="level-start"><span class="level-item">Hexo</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/JVM/"><span class="level-start"><span class="level-item">JVM</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Java/"><span class="level-start"><span class="level-item">Java</span></span><span class="level-end"><span class="level-item tag">17</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/JavaEE/"><span class="level-start"><span class="level-item">JavaEE</span></span><span class="level-end"><span class="level-item tag">27</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Mac/"><span class="level-start"><span class="level-item">Mac</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/MySQL%E5%BF%85%E7%9F%A5%E5%BF%85%E4%BC%9A/"><span class="level-start"><span class="level-item">MySQL必知必会</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Redis/"><span class="level-start"><span class="level-item">Redis</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Shiro/"><span class="level-start"><span class="level-item">Shiro</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Simpleblog%E5%8D%9A%E5%AE%A2%E7%B3%BB%E7%BB%9F/"><span class="level-start"><span class="level-item">Simpleblog博客系统</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/SpringCloud/"><span class="level-start"><span class="level-item">SpringCloud</span></span><span class="level-end"><span class="level-item tag">21</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%E5%B7%A5%E5%85%B7%E6%95%99%E7%A8%8B/"><span class="level-start"><span class="level-item">工具教程</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%E5%B9%B6%E5%8F%91/"><span class="level-start"><span class="level-item">并发</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90/"><span class="level-start"><span class="level-item">持续集成</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%E6%97%A5%E5%BF%97/"><span class="level-start"><span class="level-item">日志</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"><span class="level-start"><span class="level-item">设计模式</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"><span class="level-start"><span class="level-item">读书笔记</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content size-small"><p><time dateTime="2020-05-07T20:40:52.000Z">2020-05-07</time></p><p class="title is-6"><a class="link-muted" href="/p/43930bbd.html">Redis 系列（三）Redis 常用命令</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/Redis/">Redis</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-05-04T20:40:52.000Z">2020-05-04</time></p><p class="title is-6"><a class="link-muted" href="/p/fe744d5a.html">Redis 系列（二）Redis 安装</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/Redis/">Redis</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-05-01T17:40:52.000Z">2020-05-01</time></p><p class="title is-6"><a class="link-muted" href="/p/c8bef241.html">Redis 系列（一）NoSQL 简介</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/Redis/">Redis</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-04-21T22:03:59.000Z">2020-04-21</time></p><p class="title is-6"><a class="link-muted" href="/p/29174125.html">Hexo 生成永久文章链接</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/Hexo/">Hexo</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-04-20T10:40:52.000Z">2020-04-20</time></p><p class="title is-6"><a class="link-muted" href="/p/5c6f02af.html">Mac 多 Git 账户配置</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/Mac/">Mac</a></p></div></article></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.png" alt="后端小哥博客" height="28"></a><p class="size-small"><span>&copy; 2020 后端小哥</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/lujiahao0708"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            site: {
                url: 'http://lujiahao0708.github.io',
                external_link: {"enable":true,"exclude":[]}
            },
            article: {
                highlight: {
                    clipboard: true,
                    fold: ''
                }
            }
        };</script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>